{"remainingRequest":"/app/login-page/node_modules/babel-loader/lib/index.js!/app/login-page/node_modules/eslint-loader/index.js??ref--14-0!/app/login-page/src/router/index.js","dependencies":[{"path":"/app/login-page/src/router/index.js","mtime":1740362045706},{"path":"/app/login-page/babel.config.js","mtime":1740126285366},{"path":"/app/login-page/node_modules/cache-loader/dist/cjs.js","mtime":1740319344694},{"path":"/app/login-page/node_modules/babel-loader/lib/index.js","mtime":1740319344559},{"path":"/app/login-page/node_modules/eslint-loader/index.js","mtime":1740319364552}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlUm91dGVyLCBjcmVhdGVXZWJIaXN0b3J5IH0gZnJvbSAndnVlLXJvdXRlcic7CmltcG9ydCBMb2dpblZpZXcgZnJvbSAnLi4vdmlld3MvTG9naW5WaWV3LnZ1ZSc7IC8vIOi8ieWFpeeZu+WFpemggemdogppbXBvcnQgRGFzaGJvYXJkVmlldyBmcm9tICcuLi92aWV3cy9EYXNoYm9hcmRWaWV3LnZ1ZSc7IC8vIOi8ieWFpeWEgOihqOadv+mggemdogoKY29uc3Qgcm91dGVzID0gW3sKICBwYXRoOiAnLycsCiAgbmFtZTogJ2hvbWUnLAogIHJlZGlyZWN0OiAnL2xvZ2luJyAvLyDmoLnnm67pjITmnIPph43lrprlkJHliLDnmbvlhaXpoIHpnaIKfSwgewogIHBhdGg6ICcvbG9naW4nLAogIG5hbWU6ICdsb2dpbicsCiAgY29tcG9uZW50OiBMb2dpblZpZXcKfSwgewogIHBhdGg6ICcvZGFzaGJvYXJkJywKICBuYW1lOiAnZGFzaGJvYXJkJywKICBjb21wb25lbnQ6IERhc2hib2FyZFZpZXcKfV07CmNvbnN0IHJvdXRlciA9IGNyZWF0ZVJvdXRlcih7CiAgaGlzdG9yeTogY3JlYXRlV2ViSGlzdG9yeSgpLAogIHJvdXRlcwp9KTsKcm91dGVyLmJlZm9yZUVhY2goKHRvLCBmcm9tLCBuZXh0KSA9PiB7CiAgY29uc3QgaXNBdXRoZW50aWNhdGVkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyk7CiAgY29uc29sZS5sb2coIuebruWJjSB0b2tlbjoiLCBpc0F1dGhlbnRpY2F0ZWQpOyAvLyDoqJjpjIQgdG9rZW4g54uA5oWLCiAgaWYgKHRvLm5hbWUgIT09ICdsb2dpbicgJiYgIWlzQXV0aGVudGljYXRlZCkgewogICAgY29uc29sZS5sb2coIuacquiqjeitie+8jOi3s+i9ieWbnueZu+WFpemggemdoiIpOwogICAgbmV4dCgnL2xvZ2luJyk7CiAgfSBlbHNlIHsKICAgIGNvbnNvbGUubG9nKCLlt7Loqo3orYnvvIzmraPluLjot7PovYkiKTsKICAgIG5leHQoKTsgLy8g5YWB6Kix6Lez6L2JCiAgfQp9KTsKZXhwb3J0IGRlZmF1bHQgcm91dGVyOw=="},{"version":3,"names":["createRouter","createWebHistory","LoginView","DashboardView","routes","path","name","redirect","component","router","history","beforeEach","to","from","next","isAuthenticated","localStorage","getItem","console","log"],"sources":["/app/login-page/src/router/index.js"],"sourcesContent":["import { createRouter, createWebHistory } from 'vue-router';\nimport LoginView from '../views/LoginView.vue';  // 載入登入頁面\nimport DashboardView from '../views/DashboardView.vue';  // 載入儀表板頁面\n\nconst routes = [\n  {\n    path: '/',\n    name: 'home',\n    redirect: '/login',  // 根目錄會重定向到登入頁面\n  },\n  {\n    path: '/login',\n    name: 'login',\n    component: LoginView,\n  },\n  {\n    path: '/dashboard',\n    name: 'dashboard',\n    component: DashboardView,\n  },\n];\n\nconst router = createRouter({\n  history: createWebHistory(),\n  routes,\n});\n\nrouter.beforeEach((to, from, next) => {\n  const isAuthenticated = localStorage.getItem('token');\n  console.log(\"目前 token:\", isAuthenticated);  // 記錄 token 狀態\n  if (to.name !== 'login' && !isAuthenticated) {\n    console.log(\"未認證，跳轉回登入頁面\");\n    next('/login');\n  } else {\n    console.log(\"已認證，正常跳轉\");\n    next(); // 允許跳轉\n  }\n});\n\n\nexport default router;\n"],"mappings":"AAAA,SAASA,YAAY,EAAEC,gBAAgB,QAAQ,YAAY;AAC3D,OAAOC,SAAS,MAAM,wBAAwB,CAAC,CAAE;AACjD,OAAOC,aAAa,MAAM,4BAA4B,CAAC,CAAE;;AAEzD,MAAMC,MAAM,GAAG,CACb;EACEC,IAAI,EAAE,GAAG;EACTC,IAAI,EAAE,MAAM;EACZC,QAAQ,EAAE,QAAQ,CAAG;AACvB,CAAC,EACD;EACEF,IAAI,EAAE,QAAQ;EACdC,IAAI,EAAE,OAAO;EACbE,SAAS,EAAEN;AACb,CAAC,EACD;EACEG,IAAI,EAAE,YAAY;EAClBC,IAAI,EAAE,WAAW;EACjBE,SAAS,EAAEL;AACb,CAAC,CACF;AAED,MAAMM,MAAM,GAAGT,YAAY,CAAC;EAC1BU,OAAO,EAAET,gBAAgB,CAAC,CAAC;EAC3BG;AACF,CAAC,CAAC;AAEFK,MAAM,CAACE,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EACpC,MAAMC,eAAe,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EACrDC,OAAO,CAACC,GAAG,CAAC,WAAW,EAAEJ,eAAe,CAAC,CAAC,CAAE;EAC5C,IAAIH,EAAE,CAACN,IAAI,KAAK,OAAO,IAAI,CAACS,eAAe,EAAE;IAC3CG,OAAO,CAACC,GAAG,CAAC,aAAa,CAAC;IAC1BL,IAAI,CAAC,QAAQ,CAAC;EAChB,CAAC,MAAM;IACLI,OAAO,CAACC,GAAG,CAAC,UAAU,CAAC;IACvBL,IAAI,CAAC,CAAC,CAAC,CAAC;EACV;AACF,CAAC,CAAC;AAGF,eAAeL,MAAM","ignoreList":[]}]}