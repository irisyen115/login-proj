{"remainingRequest":"/app/login-page/node_modules/babel-loader/lib/index.js!/app/login-page/node_modules/eslint-loader/index.js??ref--14-0!/app/login-page/src/router/index.js","dependencies":[{"path":"/app/login-page/src/router/index.js","mtime":1740317516657},{"path":"/app/login-page/babel.config.js","mtime":1740126285366},{"path":"/app/login-page/node_modules/cache-loader/dist/cjs.js","mtime":1740317657716},{"path":"/app/login-page/node_modules/babel-loader/lib/index.js","mtime":1740317657564},{"path":"/app/login-page/node_modules/eslint-loader/index.js","mtime":1740317677408}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCB7IGNyZWF0ZVJvdXRlciwgY3JlYXRlV2ViSGlzdG9yeSB9IGZyb20gJ3Z1ZS1yb3V0ZXInOwppbXBvcnQgTG9naW5WaWV3IGZyb20gJy4uL3ZpZXdzL0xvZ2luVmlldy52dWUnOwppbXBvcnQgRGFzaGJvYXJkVmlldyBmcm9tICcuLi92aWV3cy9EYXNoYm9hcmRWaWV3LnZ1ZSc7CmNvbnN0IHJvdXRlcyA9IFt7CiAgcGF0aDogJy8nLAogIGNvbXBvbmVudDogTG9naW5WaWV3Cn0sIHsKICBwYXRoOiAnL2Rhc2hib2FyZCcsCiAgY29tcG9uZW50OiBEYXNoYm9hcmRWaWV3LAogIG1ldGE6IHsKICAgIHJlcXVpcmVzQXV0aDogdHJ1ZQogIH0KfV07CmNvbnN0IHJvdXRlciA9IGNyZWF0ZVJvdXRlcih7CiAgaGlzdG9yeTogY3JlYXRlV2ViSGlzdG9yeSgpLAogIHJvdXRlcwp9KTsKCi8vIOaWsOWiniBsb2dvdXQg5pa55rOVCnJvdXRlci5sb2dvdXQgPSAoKSA9PiB7CiAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3Rva2VuJyk7IC8vIOa4hemZpCB0b2tlbgogIHJvdXRlci5wdXNoKCcvJyk7IC8vIOi/lOWbnueZu+WFpemggQp9OwoKLy8g5bCO6Iiq5a6I6KGb77ya5qqi5p+l5L2/55So6ICF5piv5ZCm55m75YWlCnJvdXRlci5iZWZvcmVFYWNoKCh0bywgZnJvbSwgbmV4dCkgPT4gewogIGNvbnN0IGlzQXV0aGVudGljYXRlZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpOyAvLyDmqqLmn6XmmK/lkKbmnIkgdG9rZW4KICBpZiAodG8ubWV0YS5yZXF1aXJlc0F1dGggJiYgIWlzQXV0aGVudGljYXRlZCkgewogICAgbmV4dCgnLycpOyAvLyDmnKrnmbvlhaXliYfot7Plm57nmbvlhaXpoIEKICB9IGVsc2UgewogICAgbmV4dCgpOwogIH0KfSk7CmV4cG9ydCBkZWZhdWx0IHJvdXRlcjs="},{"version":3,"names":["createRouter","createWebHistory","LoginView","DashboardView","routes","path","component","meta","requiresAuth","router","history","logout","localStorage","removeItem","push","beforeEach","to","from","next","isAuthenticated","getItem"],"sources":["/app/login-page/src/router/index.js"],"sourcesContent":["import { createRouter, createWebHistory } from 'vue-router';\nimport LoginView from '../views/LoginView.vue';\nimport DashboardView from '../views/DashboardView.vue';\n\nconst routes = [\n  { path: '/', component: LoginView },\n  { path: '/dashboard', component: DashboardView, meta: { requiresAuth: true } }\n];\n\nconst router = createRouter({\n  history: createWebHistory(),\n  routes\n});\n\n// 新增 logout 方法\nrouter.logout = () => {\n  localStorage.removeItem('token'); // 清除 token\n  router.push('/'); // 返回登入頁\n};\n\n// 導航守衛：檢查使用者是否登入\nrouter.beforeEach((to, from, next) => {\n  const isAuthenticated = localStorage.getItem('token'); // 檢查是否有 token\n  if (to.meta.requiresAuth && !isAuthenticated) {\n    next('/'); // 未登入則跳回登入頁\n  } else {\n    next();\n  }\n});\n\nexport default router;\n"],"mappings":";AAAA,SAASA,YAAY,EAAEC,gBAAgB,QAAQ,YAAY;AAC3D,OAAOC,SAAS,MAAM,wBAAwB;AAC9C,OAAOC,aAAa,MAAM,4BAA4B;AAEtD,MAAMC,MAAM,GAAG,CACb;EAAEC,IAAI,EAAE,GAAG;EAAEC,SAAS,EAAEJ;AAAU,CAAC,EACnC;EAAEG,IAAI,EAAE,YAAY;EAAEC,SAAS,EAAEH,aAAa;EAAEI,IAAI,EAAE;IAAEC,YAAY,EAAE;EAAK;AAAE,CAAC,CAC/E;AAED,MAAMC,MAAM,GAAGT,YAAY,CAAC;EAC1BU,OAAO,EAAET,gBAAgB,CAAC,CAAC;EAC3BG;AACF,CAAC,CAAC;;AAEF;AACAK,MAAM,CAACE,MAAM,GAAG,MAAM;EACpBC,YAAY,CAACC,UAAU,CAAC,OAAO,CAAC,CAAC,CAAC;EAClCJ,MAAM,CAACK,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;AACpB,CAAC;;AAED;AACAL,MAAM,CAACM,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EACpC,MAAMC,eAAe,GAAGP,YAAY,CAACQ,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC;EACvD,IAAIJ,EAAE,CAACT,IAAI,CAACC,YAAY,IAAI,CAACW,eAAe,EAAE;IAC5CD,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;EACb,CAAC,MAAM;IACLA,IAAI,CAAC,CAAC;EACR;AACF,CAAC,CAAC;AAEF,eAAeT,MAAM","ignoreList":[]}]}